# The name of this function is silly; vcs_info forces '+vi-' prefix for hook
# function names.
#
# inspired by zsh-doc/examples/Misc/vcs_info-examples

# Don't handle VCSs other than git or hg.
[[ "$vcs" != git && "$vcs" != hg ]] && return

# Allow vcs_info to run if sentinel variable is set, prohibit it from running
# otherwise.
if [[ ${__FORCE_RUN_VCS_INFO-1} == 1 ]]; then
    __FORCE_RUN_VCS_INFO=0
    ret=0
else
    ret=1
fi
